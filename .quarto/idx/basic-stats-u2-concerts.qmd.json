{"title":"Basic Statistics U2 Concerts","markdown":{"yaml":{"title":"Basic Statistics U2 Concerts","author":"Hans van Leeuwen"},"headingText":"Load custom concertData package","containsRefs":false,"markdown":"\n\nIn this section we look at some basic statistics of the U2 shows and compare this with the statistics listed at <https://www.u2gigs.com>.\n\n\nFirst we load my custom concertData package where I organized all the functions to analyze the U2 concert data. This R package is available on my GitHub page at: <https://github.com/vanleeuwen-hans>.\n\n```{r load custom concertData package, message = FALSE, warning = FALSE}\ndevtools::load_all(\"../packages/concertData\")\nlibrary(concertData)\n```\n\n```{r basic stats - read data, message = FALSE, warning = FALSE}\n\n# read the following file where the Rosemont duplication was not fixed yet\n# this is explained further down on this page\nu2data <- read_concertData_csv('u2data/archive/u2data_all_shows_clean_final_rosemontdup.csv')\n```\n\n## Longest set lists\n\nList the shows with the longest set lists, i.e. where U2 played most songs in a concert. The list corresponds to the statistics at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - longest set lists, message = FALSE, warning = FALSE}\n\n# longest set lists\nlongest_setlists <- find_longest_setlists(u2data)\nprint(longest_setlists)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Longest U2 set lists - source u2gigs.com - October 2024.](u2gigs/u2_longest_setlists-u2gigscom.png)\n\nOne of these shows, with 27 songs played, was in Cologne on October 18th, 2015. I was there with my wife, and before the show we had the chance to meet and greet with Adam Clayton, U2's bass player. He signed my copy of the 1991 Achtung Baby album. I have included some pictures of that moment below.\n\n![Meeting Adam Clayton in Cologne - source Hans van Leeuwen - 18 October 2015.](u2hvl/AdamClaytonCologne.JPG){width=\"208\"} ![Meeting Adam Clayton in Cologne - source Hans van Leeuwen - 18 October 2015.](u2hvl/HvLmeetandgreetAdamClayton.JPG){width=\"246\"} ![Meeting Adam Clayton in Cologne - source Hans van Leeuwen - 18 October 2015.](u2hvl/AchtungBaby_signed.JPG){width=\"162\"}\n\n## Shows with most snippets\n\nA snippet is a short piece of song (either from another artist or from U2 themselves) played as part of a regular song in the show.\n\n```{r basic stats - shows with most snippets, message = FALSE, warning = FALSE}\n\n# Get shows with most snippets\nsnippet_summary <- find_shows_with_most_snippets(u2data)\nhead(snippet_summary, n=10)  # Show top 10 shows\n\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![U2 shows with most snippets played - source u2gigs.com - October 2024.](u2gigs/u2_shows_most_snippets-u2gigscom.png)\n\nI noticed a discrepancy in number of snippets for some of these shows when comparing with the statistics at <https://www.u2gigs.com/tourdb-stats.html>, for example the London show on November 3rd, 2015, where my data calculates the number of snippets played as 20, while the info at <https://www.u2gigs.com/show1957.html> states 19. I first checked in my data which song was incorrectly identified as snippet. That turned out to be 'Even Better Than The Real Thing'.\n\n```{r basic stats - check snippet discrepancy, message = FALSE, warning = FALSE}\n\n# check london show 2015-11-03\nlondon_show <- subset(u2data, date == '2015-11-03' & snippet == TRUE, select = c(\"showID\", \"date\",\"song_title\", \"snippet\"))\nprint(london_show, n = max())\n```\n\nThe issue seems to be in the different HTML coding for one snippet on that page: ![London snippet count - source u2gigs.com - 3 November 2015.](u2gigs/london_snippet_count_u2gigscom.png)\n\nIf we check the HTML code for the 'Fish Out of Water Mix' we see that it has a 'snippet' tag:\n\n```         \n<li><a href=\"/Even_Better_Than_The_Real_Thing-s38.html\">Even Better Than The Real Thing</a> <em class=\"snippet\">Fish Out of Water Mix</em></li>\n```\n\nNow compare this to what the HTML looks like normally for snippets at u2gigs.com:\n\n```         \n<li><a href=\"/Mysterious_Ways-s26.html\">Mysterious Ways</a> / <a class=\"snippet\" href=\"/Burning_Down_The_House-s878.html\">Burning Down The House</a> <span class=\"snippet\">(snippet)</span> / <a class=\"snippet\" href=\"/Young_Americans-s30.html\">Young Americans</a> <span class=\"snippet\">(snippet)</span></li>\n```\n\nI'm not sure what u2gigs.com intended to do here, and whether this is a snippet or not. It does explain the different numbers seen earlier as my scraping code has counted songs preceding songs with those tags as snippet incorrectly.\n\n## Cities with most shows\n\nWe used this metric for data curation already, but here is the top 11 (instead of Top 10 so that Amsterdam is displayed ðŸ˜€ ) of cities where U2 played most often. This matches exactly the statistics listed at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - cities with most shows, message = FALSE, warning = FALSE}\n\n# cities with most shows played\ntop_cities <- find_most_played_cities(u2data, n = 13)\nprint(top_cities)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Cities with most shows played - source u2gigs.com - October 2024.](u2gigs/u2_top_played_cities-u2gigscom.png){fig-align=\"left\"}\n\n## Venues with most shows\n\nHere is the top 10 of venues where U2 played most often. This matches exactly the statistics listed at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - venues with most shows, message = FALSE, warning = FALSE}\n\n# Get top 10 venues with most shows played\ntop_venues <- find_most_played_venues(u2data, n = 10)\nprint(top_venues)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Venues with most shows played - source u2gigs.com - October 2024.](u2gigs/u2_top_played_venues-u2gigscom.png){fig-align=\"left\"}\n\n## Countries with most shows\n\nThe top 10 of countries where U2 played most often can be seen below. This matches exactly the statistics listed at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - countries with most shows, message = FALSE, warning = FALSE}\n\n# countries with most shows played\n# Get top 10 countries with most shows played\ntop_countries <- find_most_played_countries(u2data, n = 10)\nprint(top_countries)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Countries with most shows played - source u2gigs.com - October 2024.](u2gigs/u2_top_played_countries-u2gigscom.png){fig-align=\"left\"}\n\n## Top 10 most played songs\n\nBefore we look at the top 10, let's see how many different songs U2 has played live.\n\n```{r basic stats - number of unique songs played, message = FALSE, warning = FALSE}\n\n# number of unique songs  played\nnrow(unique(u2data[,c('song_title')]))\n```\n\nThis does not match the info at <https://www.u2gigs.com/all-songnames.html> as there it is stated:\n\n> We have 1011 different songs in our database.\n\nHowever, at at a different page (<https://www.u2gigs.com/most-played-songs.html>) it is stated:\n\n> We found 994 different songs in our database.\n\nAnd that number coincides with the number found in my data.\n\nThe top 10 of songs that U2 played most often can be seen below. This does not match completely with the statistics listed at <https://www.u2gigs.com/most-played-songs.html>. There are several songs that have a count that is 1 higher in my data (Pride, Streets, One, Bullet, Still Haven't Found).\n\n```{r visual exploration - songs most played, message = FALSE, warning = FALSE}\n\n# songs most played\ntop_played_songs <- find_most_played_songs(u2data, n = 15)\nprint(top_played_songs)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Most played songs - source u2gigs.com - October 2024.](u2gigs/U2_shows_top_played_songs-u2gigscom.png){fig-align=\"left\"}\n\nI took a closer look at the song Pride to see where the difference of 1 time played is between my data and the data at <https://www.u2gigs.com/Pride_(In_the_Name_of_Love)-s40.html>. I copied all the times the song was played from that page and pasted in Excel. With the code below I obtained the list from my data and compared that side by side in Excel.\n\n```{r visual exploration - check Pride number of times played, message = FALSE, warning = FALSE}\n\n# Pride - number of times played\npride_data <- subset(u2data, song_title == 'Pride (In the Name of Love)', select = c(\"date\",\"city\",\"tour\", \"song_title\", \"showID\"))\n#write.csv(pride_data, \"pride_data.csv\")\n```\n\nI discovered that the issue in my data is at the ZOO TV show on March 31, 1992 in Rosemont: <https://www.u2gigs.com/show235.html>. Pride was played one time at that show but appears in my data as it was played 2 times during that show:\n\n```{r visual exploration - check set list Rosemont show 1992, message = FALSE, warning = FALSE}\n\n# Rosemont show 1992 set list\nrosemont_data <- subset(u2data, showID == 235, select = c(\"date\", \"city\", \"song_position\",\"song_title\",\"snippet\", \"encore\"))\nprint(rosemont_data)\n```\n\nWith this we can see that there is duplicated data for this show in my data. I went back to my original scraped files and indeed I saw that the duplication happened where the scraping process had been interrupted and later restarted manually. Let's check to what extent there are duplicated rows in my data:\n\n```{r data curation - remove duplicates, message = FALSE, warning = FALSE}\n\n# show duplicate rows \nduplicated_rows <- u2data[duplicated(u2data), ]\nprint(duplicated_rows, n=max())\n```\n\nHere we see the Rosemont show (show ID 235) again. I manually checked the others:\n\n-   El Pueblo VencerÃ¡ at show with showID 1056, and also at show with showID 1060\n    -   this turned out to be correct as the snippet was played two times in the same regular song (Mothers of the Disappeared), so it looks like a duplicate row but is correct.\n-   Two Shots of Happy, One Shot of Sad at show with showID 1133\n    -   this also turned out to be correct as the snippet was played two times in the same regular song (Stay), so it looks like a duplicate row but is correct.\n\nThis means I only have to remove the Rosemont show duplicate rows, as follows:\n\n```{r data curation - remove duplicates Rosemont show (showID 235), message = FALSE, warning = FALSE}\n\n# retrieve row indices of all duplicated rows \nwhich(duplicated(u2data) | duplicated(u2data, fromLast = TRUE))\n# the first 21 are the ones that should be deleted\n\n# check rows 20, 21 and 22 with indices 2959, 2979 and 2980, respectively\nu2data[2959,]\nu2data[2979,]\nu2data[2980,]\n# correct, these two rows correspond to the first one to delete (Zoo Station), the last one to delete (Desire) and the first one to keep (Zoo Station), respectively\n\n# thus, we need to remove the rows with indices:\n# 2959  2960  2961  2962  2963  2964  2965  2966  2967  2968  2969  2970  2971  2972  2973  2974  2975\n# 2976  2977  2978  2979\n\n# check number of rows before deletion\nnrow(u2data)\n# result: 39674\n\n# delete duplicated rows from Rosemont show\nu2data <- u2data[-(2959:2979),]\n\n# check number of rows after deletion\nnrow(u2data)\n#result: 39653\n\n# difference: 39674 - 39653\nprint(39674 - 39653)\n# result: 21\n#correct\n\n# now save corrected data to csv file\n# commented out because this has already been done\n#write.csv(u2data, file = \"u2data/u2data_all_shows_clean_final.csv\", row.names = FALSE)\n```\n\nNow that those duplicated rows were removed, let's look at the songs by number of times played again and compare again to the info at <https://www.u2gigs.com/most-played-songs.html>.\n\n```{r visual exploration - songs most played - second check, message = FALSE, warning = FALSE}\n\n# read the u2 concertData\nu2data <- read_concertData_csv('u2data/u2data_all_shows_clean_final.csv')\n\n# songs most played\ntop_played_songs <- find_most_played_songs(u2data, n = 15)\nprint(top_played_songs)\n```\n\nYes, total times the songs were played match now. There is still discrepancies in the times it was played as regular song or snippet.\n\n![Top played songs - u2gigs.com - October 2024.](u2gigs/U2_shows_top_played_songs-u2gigscom.png){fig-align=\"left\"}\n\nLet's check Where The Streets Have No Name. In the u2gigs.com it has a total play count of 976, all regular performances, no snippets. In my data it states 974 regular performances and 2 times as a snippet.\n\n```{r visual exploration - songs most played - snippet/regular check WTSHNN, message = FALSE, warning = FALSE}\n\nWTSHNN_regular_play_count <- subset(u2data, song_title == 'Where the Streets Have No Name' & snippet == FALSE, select = c(\"showID\", \"date\", \"city\", \"song_position\",\"song_title\",\"snippet\", \"encore\"))\nprint(WTSHNN_regular_play_count)\n\nWTSHNN_snippet_play_count <- subset(u2data, song_title == 'Where the Streets Have No Name' & snippet == TRUE, select = c(\"showID\", \"date\", \"city\", \"song_position\",\"song_title\",\"snippet\", \"encore\"))\nprint(WTSHNN_snippet_play_count)\n```\n\nIn the two shows where my scraping code had counted WTSHNN as a snippet, we see the format difference:\n\n```         \n<li><a href='/Where_the_Streets_Have_No_Name-s17.html'>Where the Streets Have No Name</a> <span class='guestartist'>(with Bruce Springsteen)</span></li>\n\n<li><a href='/Where_the_Streets_Have_No_Name-s17.html'>Where the Streets Have No Name</a> <em class='snippet'>partial chords</em></li>\n```\n\nCompared to a more normal coding for regular songs on the u2gigs.com site:\n\n```         \n<li><a href='/Where_the_Streets_Have_No_Name-s17.html'>Where the Streets Have No Name</a></li>\n```\n\nThus, my scraping code had not identified these two performances of WTSHNN as regular but incorrectly as snippets. As my project was ending I did not follow up to correct my u2data set with these relativelz few errors in the snippet flag.\n\n## Top 10 opening songs\n\nWhich were the songs U2 played most to open the shows? This can be seen at <https://www.u2gigs.com/tourdb-stats.html>.\n\n![Top 10 opening songs - u2gigs.com - October 2024.](u2gigs/u2_top_opening_songs-u2gigscom.png){fig-align=\"left\"}\n\nIn my data the numbers are like shown below:\n\n```{r visual exploration - opening songs, message = FALSE, warning = FALSE}\n\n# Get top 10 opening songs\ntop_10_openers <- find_most_played_opening_songs(u2data, n = 10)\nprint(top_10_openers)\n```\n\nThe numbers did not match the information at <https://www.u2gigs.com/tourdb-stats.html>. I checked a few songs and observed a few things:\n\nFirst, the opening songs counts listed at <https://www.u2gigs.com/tourdb-stats.html> seem to be outdated. When you click on one the songs in that list it shows a different number on the song page. For example, Zoo Station has the opening song count of 196 at <https://www.u2gigs.com/tourdb-stats.html> (see earlier screen shot), but 197 at <https://www.u2gigs.com/openingsong141.html>:\n\n![Zoo Station opening song - u2gigs.com - October 2024.](u2gigs/u2_zoo_station_opening.png){fig-align=\"left\"}\n\nThus, it looks like u2gigs.com needs to refresh the 'Top 25 show opening songs' list at <https://www.u2gigs.com/tourdb-stats.html>.\n\nSecond, I observed a few rare cases on the u2gigs.com show pages which were not handled properly by my scraping code, or were not handled properly by u2gigs.com, for example:\n\n*Example 1:*\n\nOct 23rd, 2000 set list, <https://www.u2gigs.com/show1147.html>: ![Rare setlist format on show page.](u2gigs/u2_2000-10-23_setlist-u2gigscom.png)\n\nMy code and data did count Elevation as opening song for this 'show' while u2gigs.com did not count it, probably because it was preceded by an interview.\n\nThe same issue occurred with this show: <https://www.u2gigs.com/show1149.html>, and potentially with other shows as I only checked shows that opened with Elevation. u2gigs.com may want to check how they count opening songs in such case.\n\n*Example 2*\n\n2001-09-06 set list, <https://www.u2gigs.com/show1473.html>. In this case the set list started with a medley, with two songs as one entry. This is different than a regular song plus a snippet. My scraping code could apparently not handle this.\n\n![Rare setlist format on show page.](u2gigs/u2_2001-09-06_setlist-u2gigscom.png){fig-align=\"left\"}\n\nI decided not to invest more time in trying to detect and fix these rare issues.\n","srcMarkdownNoYaml":"\n\nIn this section we look at some basic statistics of the U2 shows and compare this with the statistics listed at <https://www.u2gigs.com>.\n\n## Load custom concertData package\n\nFirst we load my custom concertData package where I organized all the functions to analyze the U2 concert data. This R package is available on my GitHub page at: <https://github.com/vanleeuwen-hans>.\n\n```{r load custom concertData package, message = FALSE, warning = FALSE}\ndevtools::load_all(\"../packages/concertData\")\nlibrary(concertData)\n```\n\n```{r basic stats - read data, message = FALSE, warning = FALSE}\n\n# read the following file where the Rosemont duplication was not fixed yet\n# this is explained further down on this page\nu2data <- read_concertData_csv('u2data/archive/u2data_all_shows_clean_final_rosemontdup.csv')\n```\n\n## Longest set lists\n\nList the shows with the longest set lists, i.e. where U2 played most songs in a concert. The list corresponds to the statistics at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - longest set lists, message = FALSE, warning = FALSE}\n\n# longest set lists\nlongest_setlists <- find_longest_setlists(u2data)\nprint(longest_setlists)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Longest U2 set lists - source u2gigs.com - October 2024.](u2gigs/u2_longest_setlists-u2gigscom.png)\n\nOne of these shows, with 27 songs played, was in Cologne on October 18th, 2015. I was there with my wife, and before the show we had the chance to meet and greet with Adam Clayton, U2's bass player. He signed my copy of the 1991 Achtung Baby album. I have included some pictures of that moment below.\n\n![Meeting Adam Clayton in Cologne - source Hans van Leeuwen - 18 October 2015.](u2hvl/AdamClaytonCologne.JPG){width=\"208\"} ![Meeting Adam Clayton in Cologne - source Hans van Leeuwen - 18 October 2015.](u2hvl/HvLmeetandgreetAdamClayton.JPG){width=\"246\"} ![Meeting Adam Clayton in Cologne - source Hans van Leeuwen - 18 October 2015.](u2hvl/AchtungBaby_signed.JPG){width=\"162\"}\n\n## Shows with most snippets\n\nA snippet is a short piece of song (either from another artist or from U2 themselves) played as part of a regular song in the show.\n\n```{r basic stats - shows with most snippets, message = FALSE, warning = FALSE}\n\n# Get shows with most snippets\nsnippet_summary <- find_shows_with_most_snippets(u2data)\nhead(snippet_summary, n=10)  # Show top 10 shows\n\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![U2 shows with most snippets played - source u2gigs.com - October 2024.](u2gigs/u2_shows_most_snippets-u2gigscom.png)\n\nI noticed a discrepancy in number of snippets for some of these shows when comparing with the statistics at <https://www.u2gigs.com/tourdb-stats.html>, for example the London show on November 3rd, 2015, where my data calculates the number of snippets played as 20, while the info at <https://www.u2gigs.com/show1957.html> states 19. I first checked in my data which song was incorrectly identified as snippet. That turned out to be 'Even Better Than The Real Thing'.\n\n```{r basic stats - check snippet discrepancy, message = FALSE, warning = FALSE}\n\n# check london show 2015-11-03\nlondon_show <- subset(u2data, date == '2015-11-03' & snippet == TRUE, select = c(\"showID\", \"date\",\"song_title\", \"snippet\"))\nprint(london_show, n = max())\n```\n\nThe issue seems to be in the different HTML coding for one snippet on that page: ![London snippet count - source u2gigs.com - 3 November 2015.](u2gigs/london_snippet_count_u2gigscom.png)\n\nIf we check the HTML code for the 'Fish Out of Water Mix' we see that it has a 'snippet' tag:\n\n```         \n<li><a href=\"/Even_Better_Than_The_Real_Thing-s38.html\">Even Better Than The Real Thing</a> <em class=\"snippet\">Fish Out of Water Mix</em></li>\n```\n\nNow compare this to what the HTML looks like normally for snippets at u2gigs.com:\n\n```         \n<li><a href=\"/Mysterious_Ways-s26.html\">Mysterious Ways</a> / <a class=\"snippet\" href=\"/Burning_Down_The_House-s878.html\">Burning Down The House</a> <span class=\"snippet\">(snippet)</span> / <a class=\"snippet\" href=\"/Young_Americans-s30.html\">Young Americans</a> <span class=\"snippet\">(snippet)</span></li>\n```\n\nI'm not sure what u2gigs.com intended to do here, and whether this is a snippet or not. It does explain the different numbers seen earlier as my scraping code has counted songs preceding songs with those tags as snippet incorrectly.\n\n## Cities with most shows\n\nWe used this metric for data curation already, but here is the top 11 (instead of Top 10 so that Amsterdam is displayed ðŸ˜€ ) of cities where U2 played most often. This matches exactly the statistics listed at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - cities with most shows, message = FALSE, warning = FALSE}\n\n# cities with most shows played\ntop_cities <- find_most_played_cities(u2data, n = 13)\nprint(top_cities)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Cities with most shows played - source u2gigs.com - October 2024.](u2gigs/u2_top_played_cities-u2gigscom.png){fig-align=\"left\"}\n\n## Venues with most shows\n\nHere is the top 10 of venues where U2 played most often. This matches exactly the statistics listed at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - venues with most shows, message = FALSE, warning = FALSE}\n\n# Get top 10 venues with most shows played\ntop_venues <- find_most_played_venues(u2data, n = 10)\nprint(top_venues)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Venues with most shows played - source u2gigs.com - October 2024.](u2gigs/u2_top_played_venues-u2gigscom.png){fig-align=\"left\"}\n\n## Countries with most shows\n\nThe top 10 of countries where U2 played most often can be seen below. This matches exactly the statistics listed at <https://www.u2gigs.com/tourdb-stats.html>.\n\n```{r basic stats - countries with most shows, message = FALSE, warning = FALSE}\n\n# countries with most shows played\n# Get top 10 countries with most shows played\ntop_countries <- find_most_played_countries(u2data, n = 10)\nprint(top_countries)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Countries with most shows played - source u2gigs.com - October 2024.](u2gigs/u2_top_played_countries-u2gigscom.png){fig-align=\"left\"}\n\n## Top 10 most played songs\n\nBefore we look at the top 10, let's see how many different songs U2 has played live.\n\n```{r basic stats - number of unique songs played, message = FALSE, warning = FALSE}\n\n# number of unique songs  played\nnrow(unique(u2data[,c('song_title')]))\n```\n\nThis does not match the info at <https://www.u2gigs.com/all-songnames.html> as there it is stated:\n\n> We have 1011 different songs in our database.\n\nHowever, at at a different page (<https://www.u2gigs.com/most-played-songs.html>) it is stated:\n\n> We found 994 different songs in our database.\n\nAnd that number coincides with the number found in my data.\n\nThe top 10 of songs that U2 played most often can be seen below. This does not match completely with the statistics listed at <https://www.u2gigs.com/most-played-songs.html>. There are several songs that have a count that is 1 higher in my data (Pride, Streets, One, Bullet, Still Haven't Found).\n\n```{r visual exploration - songs most played, message = FALSE, warning = FALSE}\n\n# songs most played\ntop_played_songs <- find_most_played_songs(u2data, n = 15)\nprint(top_played_songs)\n```\n\nThe info at <https://www.u2gigs.com/tourdb-stats.html>:\n\n![Most played songs - source u2gigs.com - October 2024.](u2gigs/U2_shows_top_played_songs-u2gigscom.png){fig-align=\"left\"}\n\nI took a closer look at the song Pride to see where the difference of 1 time played is between my data and the data at <https://www.u2gigs.com/Pride_(In_the_Name_of_Love)-s40.html>. I copied all the times the song was played from that page and pasted in Excel. With the code below I obtained the list from my data and compared that side by side in Excel.\n\n```{r visual exploration - check Pride number of times played, message = FALSE, warning = FALSE}\n\n# Pride - number of times played\npride_data <- subset(u2data, song_title == 'Pride (In the Name of Love)', select = c(\"date\",\"city\",\"tour\", \"song_title\", \"showID\"))\n#write.csv(pride_data, \"pride_data.csv\")\n```\n\nI discovered that the issue in my data is at the ZOO TV show on March 31, 1992 in Rosemont: <https://www.u2gigs.com/show235.html>. Pride was played one time at that show but appears in my data as it was played 2 times during that show:\n\n```{r visual exploration - check set list Rosemont show 1992, message = FALSE, warning = FALSE}\n\n# Rosemont show 1992 set list\nrosemont_data <- subset(u2data, showID == 235, select = c(\"date\", \"city\", \"song_position\",\"song_title\",\"snippet\", \"encore\"))\nprint(rosemont_data)\n```\n\nWith this we can see that there is duplicated data for this show in my data. I went back to my original scraped files and indeed I saw that the duplication happened where the scraping process had been interrupted and later restarted manually. Let's check to what extent there are duplicated rows in my data:\n\n```{r data curation - remove duplicates, message = FALSE, warning = FALSE}\n\n# show duplicate rows \nduplicated_rows <- u2data[duplicated(u2data), ]\nprint(duplicated_rows, n=max())\n```\n\nHere we see the Rosemont show (show ID 235) again. I manually checked the others:\n\n-   El Pueblo VencerÃ¡ at show with showID 1056, and also at show with showID 1060\n    -   this turned out to be correct as the snippet was played two times in the same regular song (Mothers of the Disappeared), so it looks like a duplicate row but is correct.\n-   Two Shots of Happy, One Shot of Sad at show with showID 1133\n    -   this also turned out to be correct as the snippet was played two times in the same regular song (Stay), so it looks like a duplicate row but is correct.\n\nThis means I only have to remove the Rosemont show duplicate rows, as follows:\n\n```{r data curation - remove duplicates Rosemont show (showID 235), message = FALSE, warning = FALSE}\n\n# retrieve row indices of all duplicated rows \nwhich(duplicated(u2data) | duplicated(u2data, fromLast = TRUE))\n# the first 21 are the ones that should be deleted\n\n# check rows 20, 21 and 22 with indices 2959, 2979 and 2980, respectively\nu2data[2959,]\nu2data[2979,]\nu2data[2980,]\n# correct, these two rows correspond to the first one to delete (Zoo Station), the last one to delete (Desire) and the first one to keep (Zoo Station), respectively\n\n# thus, we need to remove the rows with indices:\n# 2959  2960  2961  2962  2963  2964  2965  2966  2967  2968  2969  2970  2971  2972  2973  2974  2975\n# 2976  2977  2978  2979\n\n# check number of rows before deletion\nnrow(u2data)\n# result: 39674\n\n# delete duplicated rows from Rosemont show\nu2data <- u2data[-(2959:2979),]\n\n# check number of rows after deletion\nnrow(u2data)\n#result: 39653\n\n# difference: 39674 - 39653\nprint(39674 - 39653)\n# result: 21\n#correct\n\n# now save corrected data to csv file\n# commented out because this has already been done\n#write.csv(u2data, file = \"u2data/u2data_all_shows_clean_final.csv\", row.names = FALSE)\n```\n\nNow that those duplicated rows were removed, let's look at the songs by number of times played again and compare again to the info at <https://www.u2gigs.com/most-played-songs.html>.\n\n```{r visual exploration - songs most played - second check, message = FALSE, warning = FALSE}\n\n# read the u2 concertData\nu2data <- read_concertData_csv('u2data/u2data_all_shows_clean_final.csv')\n\n# songs most played\ntop_played_songs <- find_most_played_songs(u2data, n = 15)\nprint(top_played_songs)\n```\n\nYes, total times the songs were played match now. There is still discrepancies in the times it was played as regular song or snippet.\n\n![Top played songs - u2gigs.com - October 2024.](u2gigs/U2_shows_top_played_songs-u2gigscom.png){fig-align=\"left\"}\n\nLet's check Where The Streets Have No Name. In the u2gigs.com it has a total play count of 976, all regular performances, no snippets. In my data it states 974 regular performances and 2 times as a snippet.\n\n```{r visual exploration - songs most played - snippet/regular check WTSHNN, message = FALSE, warning = FALSE}\n\nWTSHNN_regular_play_count <- subset(u2data, song_title == 'Where the Streets Have No Name' & snippet == FALSE, select = c(\"showID\", \"date\", \"city\", \"song_position\",\"song_title\",\"snippet\", \"encore\"))\nprint(WTSHNN_regular_play_count)\n\nWTSHNN_snippet_play_count <- subset(u2data, song_title == 'Where the Streets Have No Name' & snippet == TRUE, select = c(\"showID\", \"date\", \"city\", \"song_position\",\"song_title\",\"snippet\", \"encore\"))\nprint(WTSHNN_snippet_play_count)\n```\n\nIn the two shows where my scraping code had counted WTSHNN as a snippet, we see the format difference:\n\n```         \n<li><a href='/Where_the_Streets_Have_No_Name-s17.html'>Where the Streets Have No Name</a> <span class='guestartist'>(with Bruce Springsteen)</span></li>\n\n<li><a href='/Where_the_Streets_Have_No_Name-s17.html'>Where the Streets Have No Name</a> <em class='snippet'>partial chords</em></li>\n```\n\nCompared to a more normal coding for regular songs on the u2gigs.com site:\n\n```         \n<li><a href='/Where_the_Streets_Have_No_Name-s17.html'>Where the Streets Have No Name</a></li>\n```\n\nThus, my scraping code had not identified these two performances of WTSHNN as regular but incorrectly as snippets. As my project was ending I did not follow up to correct my u2data set with these relativelz few errors in the snippet flag.\n\n## Top 10 opening songs\n\nWhich were the songs U2 played most to open the shows? This can be seen at <https://www.u2gigs.com/tourdb-stats.html>.\n\n![Top 10 opening songs - u2gigs.com - October 2024.](u2gigs/u2_top_opening_songs-u2gigscom.png){fig-align=\"left\"}\n\nIn my data the numbers are like shown below:\n\n```{r visual exploration - opening songs, message = FALSE, warning = FALSE}\n\n# Get top 10 opening songs\ntop_10_openers <- find_most_played_opening_songs(u2data, n = 10)\nprint(top_10_openers)\n```\n\nThe numbers did not match the information at <https://www.u2gigs.com/tourdb-stats.html>. I checked a few songs and observed a few things:\n\nFirst, the opening songs counts listed at <https://www.u2gigs.com/tourdb-stats.html> seem to be outdated. When you click on one the songs in that list it shows a different number on the song page. For example, Zoo Station has the opening song count of 196 at <https://www.u2gigs.com/tourdb-stats.html> (see earlier screen shot), but 197 at <https://www.u2gigs.com/openingsong141.html>:\n\n![Zoo Station opening song - u2gigs.com - October 2024.](u2gigs/u2_zoo_station_opening.png){fig-align=\"left\"}\n\nThus, it looks like u2gigs.com needs to refresh the 'Top 25 show opening songs' list at <https://www.u2gigs.com/tourdb-stats.html>.\n\nSecond, I observed a few rare cases on the u2gigs.com show pages which were not handled properly by my scraping code, or were not handled properly by u2gigs.com, for example:\n\n*Example 1:*\n\nOct 23rd, 2000 set list, <https://www.u2gigs.com/show1147.html>: ![Rare setlist format on show page.](u2gigs/u2_2000-10-23_setlist-u2gigscom.png)\n\nMy code and data did count Elevation as opening song for this 'show' while u2gigs.com did not count it, probably because it was preceded by an interview.\n\nThe same issue occurred with this show: <https://www.u2gigs.com/show1149.html>, and potentially with other shows as I only checked shows that opened with Elevation. u2gigs.com may want to check how they count opening songs in such case.\n\n*Example 2*\n\n2001-09-06 set list, <https://www.u2gigs.com/show1473.html>. In this case the set list started with a medley, with two songs as one entry. This is different than a regular song plus a snippet. My scraping code could apparently not handle this.\n\n![Rare setlist format on show page.](u2gigs/u2_2001-09-06_setlist-u2gigscom.png){fig-align=\"left\"}\n\nI decided not to invest more time in trying to detect and fix these rare issues.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"basic-stats-u2-concerts.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.32","theme":"cosmo","title":"Basic Statistics U2 Concerts","author":"Hans van Leeuwen"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}